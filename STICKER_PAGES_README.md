# 贴纸系统管理端页面说明

## 已创建的页面

### 1. 贴纸管理页面
**路径**: `/src/views/skins/ttSticker/index.vue`

**功能**:
- 查看所有贴纸列表
- 新增贴纸
- 修改贴纸信息
- 删除贴纸
- 显示贴纸颜色、类型、状态等信息

**字段说明**:
- 贴纸编码: 唯一标识，如 red, orange, yellow 等
- 贴纸名称: 显示名称，如 红色贴纸
- 贴纸颜色: 颜色标识
- 贴纸类型: 1-11种类型（连续登录、充值、开箱等）
- 状态: 正常/停用

### 2. 贴纸箱子配置页面
**路径**: `/src/views/skins/ttSticker/stickerBoxConfig.vue`

**功能**:
- 查看贴纸箱子配置列表
- 按箱子ID和配置类型搜索
- 新增贴纸箱子配置
- 修改配置信息
- 删除配置

**字段说明**:
- 箱子ID: 关联的箱子
- 贴纸ID: 关联的贴纸
- 贴纸编码: 贴纸编码
- 配置类型: 3(开启箱子)、6(1000元箱子一等奖)、7(2000元箱子一等奖)、8(网站箱子基本贴纸)、9(箱子内容3000元价值)
- 是否一等奖: 用于标识一等奖奖励
- 最小箱子价格: 用于筛选特定价格范围的箱子
- 最小内容价值: 用于判断箱子内容价值

### 3. 贴纸兑换奖励管理页面
**路径**: `/src/views/skins/ttSticker/stickerReward.vue`

**功能**:
- 查看所有奖励配置列表
- 查看奖励详情（包含贴纸需求和奖励饰品）
- 新增奖励配置
- 修改奖励配置
- 删除奖励配置

**核心功能**:
- **贴纸需求配置**: 可以添加多个贴纸，每个贴纸设置所需数量
- **奖励饰品配置**: 可以添加多个饰品，每个饰品设置数量
- **兑换次数限制**: 可以设置最大兑换次数（留空表示不限制）
- **排序**: 控制奖励显示顺序

**操作流程**:
1. 点击"新增奖励"按钮
2. 填写奖励名称
3. 添加贴纸需求（点击"添加贴纸"按钮，选择贴纸和数量）
4. 设置最大兑换次数（可选）
5. 添加奖励饰品（点击"添加饰品"按钮，选择饰品和数量）
6. 设置排序和状态
7. 保存

## API文件

**路径**: `/src/api/skins/ttSticker/api.js`

包含所有贴纸相关的API接口：
- 贴纸管理API
- 贴纸箱子配置API
- 贴纸兑换奖励API

## 路由配置

需要在路由配置文件中添加以下路由：

```javascript
{
  path: '/skins/sticker',
  component: Layout,
  children: [
    {
      path: 'index',
      name: 'Sticker',
      component: () => import('@/views/skins/ttSticker/index'),
      meta: { title: '贴纸管理', icon: 'sticker' }
    },
    {
      path: 'stickerBoxConfig',
      name: 'StickerBoxConfig',
      component: () => import('@/views/skins/ttSticker/stickerBoxConfig'),
      meta: { title: '贴纸箱子配置', icon: 'config' }
    },
    {
      path: 'stickerReward',
      name: 'StickerReward',
      component: () => import('@/views/skins/ttSticker/stickerReward'),
      meta: { title: '贴纸兑换奖励', icon: 'reward' }
    }
  ]
}
```

## 权限配置

需要在权限系统中添加以下权限：

- `sticker:add` - 新增贴纸
- `sticker:edit` - 修改贴纸
- `sticker:remove` - 删除贴纸
- `sticker:config:add` - 新增贴纸配置
- `sticker:config:edit` - 修改贴纸配置
- `sticker:config:remove` - 删除贴纸配置
- `sticker:reward:add` - 新增贴纸奖励
- `sticker:reward:edit` - 修改贴纸奖励
- `sticker:reward:remove` - 删除贴纸奖励

## 使用说明

### 1. 配置贴纸
1. 进入"贴纸管理"页面
2. 系统已初始化11种贴纸，可以直接使用
3. 如需修改，点击"修改"按钮进行编辑

### 2. 配置箱子贴纸
1. 进入"贴纸箱子配置"页面
2. 点击"新增配置"
3. 选择箱子ID和贴纸
4. 选择配置类型（根据贴纸类型选择）
5. 设置相关参数（如最小价格、是否一等奖等）
6. 保存

### 3. 创建兑换奖励
1. 进入"贴纸兑换奖励管理"页面
2. 点击"新增奖励"
3. 填写奖励名称
4. 添加贴纸需求（可以添加多个，每个设置数量）
5. 设置兑换次数限制（可选）
6. 添加奖励饰品（可以添加多个，每个设置数量）
7. 设置排序和状态
8. 保存

## 注意事项

1. **贴纸编码唯一性**: 贴纸编码必须唯一，建议使用英文小写
2. **配置类型匹配**: 箱子配置的配置类型必须与贴纸类型匹配
3. **贴纸需求格式**: 贴纸需求以JSON格式存储，格式为：`[{"stickerCode":"red","quantity":1}]`
4. **奖励饰品**: 一个奖励可以包含多个饰品，每个饰品可以设置不同的数量
5. **兑换次数**: 如果设置了最大兑换次数，用户达到次数后将无法再次兑换

## 后续优化建议

1. **批量操作**: 添加批量删除、批量启用/停用功能
2. **数据导入导出**: 支持Excel导入导出
3. **统计功能**: 添加兑换统计、贴纸发放统计等功能
4. **预览功能**: 在创建奖励时可以预览贴纸需求效果
5. **搜索优化**: 添加更多搜索条件，如按贴纸类型、状态等搜索
